<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BU Course Agent - AI Academic Advisor</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            height: 100vh;
            overflow: hidden;
            background: linear-gradient(135deg, #5e72e4 0%, #825ee4 100%);
            animation: gradientShift 10s ease infinite;
        }
        
        @keyframes gradientShift {
            0% { background: linear-gradient(135deg, #5e72e4 0%, #825ee4 100%); }
            50% { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
            100% { background: linear-gradient(135deg, #5e72e4 0%, #825ee4 100%); }
        }
        
        #root {
            height: 100vh;
            overflow: hidden;
        }
        
        /* Floating Animation */
        @keyframes floating {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        
        /* Fade In Animation */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Slide In Animation */
        @keyframes slideIn {
            from { transform: translateX(-100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        /* Pulse Animation */
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        /* Glow Animation */
        @keyframes glow {
            0%, 100% { box-shadow: 0 0 20px rgba(255,255,255,0.5); }
            50% { box-shadow: 0 0 40px rgba(255,255,255,0.8); }
        }
        
        /* Typing Animation - Fixed */
        @keyframes typing {
            0% { opacity: 0.3; transform: scale(0.8); }
            50% { opacity: 1; transform: scale(1); }
            100% { opacity: 0.3; transform: scale(0.8); }
        }
        
        .typing-dot {
            display: inline-block;
            width: 8px;
            height: 8px;
            margin: 0 3px;
            background: white;
            border-radius: 50%;
            animation: typing 1.4s infinite ease-in-out;
        }
        
        .typing-dot:nth-child(1) { animation-delay: -0.32s; }
        .typing-dot:nth-child(2) { animation-delay: -0.16s; }
        .typing-dot:nth-child(3) { animation-delay: 0s; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // API Configuration
        const API_BASE_URL = window.location.hostname === 'localhost' 
            ? 'http://localhost:8000' 
            : 'https://career-agent-9cif.onrender.com';

        // Token counting function - Fixed
        const countTokens = (text) => {
            if (!text || text.length === 0) return 0;
            // More accurate token counting
            const words = text.trim().split(/\s+/).filter(word => word.length > 0);
            const chars = text.length;
            // Approximation: average of word-based and character-based estimates
            const tokensByWords = Math.ceil(words.length * 1.3);
            const tokensByChars = Math.ceil(chars / 4);
            return Math.max(tokensByWords, tokensByChars);
        };

        // Enhanced Format message text with better formatting support
        const formatMessageText = (text) => {
            if (!text || typeof text !== 'string') {
                return <div>No message content</div>;
            }

            // Try to parse as JSON first
            try {
                const jsonData = JSON.parse(text);
                if (typeof jsonData === 'object') {
                    return (
                        <pre style={{
                            background: 'rgba(0,0,0,0.2)', 
                            padding: '12px', 
                            borderRadius: '6px', 
                            overflow: 'auto', 
                            color: 'white',
                            whiteSpace: 'pre-wrap',
                            fontFamily: 'monospace'
                        }}>
                            <code>{JSON.stringify(jsonData, null, 2)}</code>
                        </pre>
                    );
                }
            } catch (e) {
                // Not JSON, continue with text formatting
            }

            // Function to parse and format the text with proper markers
            const formatTextWithMarkers = (inputText) => {
                const lines = inputText.split('\n');
                const formatted = [];
                let inList = false;
                let listItems = [];
                let inNumberedList = false;
                let numberedItems = [];
                let currentSection = null;
                let inTable = false;
                let tableRows = [];

                lines.forEach((line, index) => {
                    const trimmedLine = line.trim();
                    
                    // Handle bold text markers **text**
                    const processBoldText = (text) => {
                        const parts = text.split(/\*\*(.*?)\*\*/g);
                        return parts.map((part, idx) => {
                            if (idx % 2 === 1) {
                                return <strong key={idx} style={{color: '#86efac'}}>{part}</strong>;
                            }
                            return part;
                        });
                    };

                    // Detect start/end of table
                    const isTableRow = trimmedLine.includes('|') && trimmedLine.split('|').length > 2;
                    const isHeaderDivider = trimmedLine.match(/^[\|\s\-:]+$/) && trimmedLine.includes('|');
                    
                    // If we encounter a table row
                    if (isTableRow && !isHeaderDivider) {
                        if (!inTable) {
                            // Start a new table
                            inTable = true;
                            tableRows = [];
                            // Close any open lists
                            if (inList && listItems.length > 0) {
                                formatted.push(
                                    <ul key={`list-${formatted.length}`} style={{
                                        marginLeft: '20px',
                                        marginBottom: '15px',
                                        listStyle: 'disc'
                                    }}>
                                        {listItems}
                                    </ul>
                                );
                                listItems = [];
                                inList = false;
                            }
                            if (inNumberedList && numberedItems.length > 0) {
                                formatted.push(
                                    <ol key={`numlist-${formatted.length}`} style={{
                                        marginLeft: '20px',
                                        marginBottom: '15px'
                                    }}>
                                        {numberedItems}
                                    </ol>
                                );
                                numberedItems = [];
                                inNumberedList = false;
                            }
                        }
                        
                        const cells = trimmedLine.split('|').map(cell => cell.trim()).filter(cell => cell !== '');
                        tableRows.push(cells);
                    }
                    // Skip header divider rows
                    else if (isHeaderDivider && inTable) {
                        // Skip this line but stay in table mode
                    }
                    // End of table - output the complete table
                    else if (inTable && !isTableRow) {
                        if (tableRows.length > 0) {
                            formatted.push(
                                <div key={`table-${formatted.length}`} style={{
                                    marginBottom: '15px',
                                    border: '1px solid rgba(255,255,255,0.2)',
                                    borderRadius: '8px',
                                    overflow: 'hidden'
                                }}>
                                    <table style={{
                                        width: '100%',
                                        borderCollapse: 'collapse'
                                    }}>
                                        <tbody>
                                            {tableRows.map((row, rowIdx) => (
                                                <tr key={rowIdx} style={{
                                                    background: rowIdx === 0 ? 'rgba(94, 114, 228, 0.2)' : 
                                                               rowIdx % 2 === 0 ? 'rgba(255,255,255,0.05)' : 'transparent'
                                                }}>
                                                    {row.map((cell, cellIdx) => (
                                                        <td key={cellIdx} style={{
                                                            padding: '8px 12px',
                                                            borderRight: cellIdx < row.length - 1 ? '1px solid rgba(255,255,255,0.1)' : 'none',
                                                            borderBottom: rowIdx < tableRows.length - 1 ? '1px solid rgba(255,255,255,0.1)' : 'none',
                                                            color: 'white',
                                                            fontWeight: rowIdx === 0 ? 'bold' : 'normal',
                                                            textAlign: 'left'
                                                        }}>
                                                            {processBoldText(cell)}
                                                        </td>
                                                    ))}
                                                </tr>
                                            ))}
                                        </tbody>
                                    </table>
                                </div>
                            );
                        }
                        inTable = false;
                        tableRows = [];
                        // Now process the current line normally
                        if (trimmedLine) {
                            // Process this line with the regular logic below
                        }
                    }

                    // Check for section headers (lines ending with :)
                    if (trimmedLine.endsWith(':') && trimmedLine.length > 1 && !trimmedLine.includes('http')) {
                        // Save any pending list
                        if (inList && listItems.length > 0) {
                            formatted.push(
                                <ul key={`list-${formatted.length}`} style={{
                                    marginLeft: '20px',
                                    marginBottom: '15px',
                                    listStyle: 'disc'
                                }}>
                                    {listItems}
                                </ul>
                            );
                            listItems = [];
                            inList = false;
                        }
                        if (inNumberedList && numberedItems.length > 0) {
                            formatted.push(
                                <ol key={`numlist-${formatted.length}`} style={{
                                    marginLeft: '20px',
                                    marginBottom: '15px'
                                }}>
                                    {numberedItems}
                                </ol>
                            );
                            numberedItems = [];
                            inNumberedList = false;
                        }
                        
                        formatted.push(
                            <h4 key={`header-${index}`} style={{
                                color: '#86efac',
                                fontWeight: 'bold',
                                marginTop: '15px',
                                marginBottom: '10px',
                                fontSize: '16px'
                            }}>
                                {processBoldText(trimmedLine.slice(0, -1))}
                            </h4>
                        );
                    }
                    // Handle bullet points (-, *, •)
                    else if (/^[-*•]\s+/.test(trimmedLine)) {
                        const content = trimmedLine.replace(/^[-*•]\s+/, '');
                        if (!inList) {
                            inList = true;
                            if (inNumberedList && numberedItems.length > 0) {
                                formatted.push(
                                    <ol key={`numlist-${formatted.length}`} style={{
                                        marginLeft: '20px',
                                        marginBottom: '15px'
                                    }}>
                                        {numberedItems}
                                    </ol>
                                );
                                numberedItems = [];
                                inNumberedList = false;
                            }
                        }
                        listItems.push(
                            <li key={`item-${index}`} style={{marginBottom: '5px', color: 'white'}}>
                                {processBoldText(content)}
                            </li>
                        );
                    }
                    // Handle numbered lists (1., 2., etc.)
                    else if (/^\d+\.\s+/.test(trimmedLine)) {
                        const content = trimmedLine.replace(/^\d+\.\s+/, '');
                        if (!inNumberedList) {
                            inNumberedList = true;
                            if (inList && listItems.length > 0) {
                                formatted.push(
                                    <ul key={`list-${formatted.length}`} style={{
                                        marginLeft: '20px',
                                        marginBottom: '15px',
                                        listStyle: 'disc'
                                    }}>
                                        {listItems}
                                    </ul>
                                );
                                listItems = [];
                                inList = false;
                            }
                        }
                        numberedItems.push(
                            <li key={`numitem-${index}`} style={{marginBottom: '5px', color: 'white'}}>
                                {processBoldText(content)}
                            </li>
                        );
                    }
                    // Handle tables (lines with | separators or structured data)
                    else if (trimmedLine.includes('|') && trimmedLine.split('|').length > 2) {
                        // Close any open lists
                        if (inList && listItems.length > 0) {
                            formatted.push(
                                <ul key={`list-${formatted.length}`} style={{
                                    marginLeft: '20px',
                                    marginBottom: '15px',
                                    listStyle: 'disc'
                                }}>
                                    {listItems}
                                </ul>
                            );
                            listItems = [];
                            inList = false;
                        }
                        if (inNumberedList && numberedItems.length > 0) {
                            formatted.push(
                                <ol key={`numlist-${formatted.length}`} style={{
                                    marginLeft: '20px',
                                    marginBottom: '15px'
                                }}>
                                    {numberedItems}
                                </ol>
                            );
                            numberedItems = [];
                            inNumberedList = false;
                        }
                        
                        // Check if this looks like a table header or divider
                        const cells = trimmedLine.split('|').map(cell => cell.trim()).filter(cell => cell);
                        const isHeaderDivider = cells.every(cell => /^[-:]+$/.test(cell));
                        
                        if (!isHeaderDivider) {
                            // Create proper table row
                            formatted.push(
                                <div key={`table-row-${index}`} style={{
                                    display: 'flex',
                                    borderBottom: '1px solid rgba(255,255,255,0.2)',
                                    padding: '8px 0',
                                    background: index % 2 === 0 ? 'rgba(255,255,255,0.05)' : 'transparent'
                                }}>
                                    {cells.map((cell, idx) => (
                                        <div key={idx} style={{
                                            flex: 1,
                                            padding: '5px 10px',
                                            color: 'white',
                                            fontWeight: index === 0 ? 'bold' : 'normal',
                                            borderRight: idx < cells.length - 1 ? '1px solid rgba(255,255,255,0.1)' : 'none'
                                        }}>
                                            {processBoldText(cell)}
                                        </div>
                                    ))}
                                </div>
                            );
                        }
                    }
                    // Handle table-like structures with multiple spaces or tabs
                    else if (trimmedLine.match(/\s{2,}|\t/) && trimmedLine.split(/\s{2,}|\t/).length > 1) {
                        const cells = trimmedLine.split(/\s{2,}|\t/).map(cell => cell.trim()).filter(cell => cell);
                        if (cells.length > 1) {
                            formatted.push(
                                <div key={`spaced-table-${index}`} style={{
                                    display: 'flex',
                                    borderBottom: '1px solid rgba(255,255,255,0.1)',
                                    padding: '6px 0'
                                }}>
                                    {cells.map((cell, idx) => (
                                        <div key={idx} style={{
                                            flex: 1,
                                            padding: '3px 8px',
                                            color: 'white'
                                        }}>
                                            {processBoldText(cell)}
                                        </div>
                                    ))}
                                </div>
                            );
                        } else {
                            // Single cell, treat as regular text
                            formatted.push(
                                <p key={`text-${index}`} style={{
                                    marginBottom: '10px',
                                    color: 'white',
                                    lineHeight: '1.6'
                                }}>
                                    {processBoldText(trimmedLine)}
                                </p>
                            );
                        }
                    }
                    // Regular text
                    else if (trimmedLine) {
                        // Close any open lists
                        if (inList && listItems.length > 0) {
                            formatted.push(
                                <ul key={`list-${formatted.length}`} style={{
                                    marginLeft: '20px',
                                    marginBottom: '15px',
                                    listStyle: 'disc'
                                }}>
                                    {listItems}
                                </ul>
                            );
                            listItems = [];
                            inList = false;
                        }
                        if (inNumberedList && numberedItems.length > 0) {
                            formatted.push(
                                <ol key={`numlist-${formatted.length}`} style={{
                                    marginLeft: '20px',
                                    marginBottom: '15px'
                                }}>
                                    {numberedItems}
                                </ol>
                            );
                            numberedItems = [];
                            inNumberedList = false;
                        }
                        
                        formatted.push(
                            <p key={`text-${index}`} style={{
                                marginBottom: '10px',
                                color: 'white',
                                lineHeight: '1.6'
                            }}>
                                {processBoldText(trimmedLine)}
                            </p>
                        );
                    }
                    // Empty line
                    else if (index < lines.length - 1) {
                        // Close any open lists
                        if (inList && listItems.length > 0) {
                            formatted.push(
                                <ul key={`list-${formatted.length}`} style={{
                                    marginLeft: '20px',
                                    marginBottom: '15px',
                                    listStyle: 'disc'
                                }}>
                                    {listItems}
                                </ul>
                            );
                            listItems = [];
                            inList = false;
                        }
                        if (inNumberedList && numberedItems.length > 0) {
                            formatted.push(
                                <ol key={`numlist-${formatted.length}`} style={{
                                    marginLeft: '20px',
                                    marginBottom: '15px'
                                }}>
                                    {numberedItems}
                                </ol>
                            );
                            numberedItems = [];
                            inNumberedList = false;
                        }
                    }
                });

                // Handle any remaining list items
                if (inList && listItems.length > 0) {
                    formatted.push(
                        <ul key={`list-${formatted.length}`} style={{
                            marginLeft: '20px',
                            marginBottom: '15px',
                            listStyle: 'disc'
                        }}>
                            {listItems}
                        </ul>
                    );
                }
                if (inNumberedList && numberedItems.length > 0) {
                    formatted.push(
                        <ol key={`numlist-${formatted.length}`} style={{
                            marginLeft: '20px',
                            marginBottom: '15px'
                        }}>
                            {numberedItems}
                        </ol>
                    );
                }

                return formatted;
            };

            const formattedContent = formatTextWithMarkers(text);
            
            return (
                <div style={{
                    maxWidth: '100%',
                    wordWrap: 'break-word',
                    overflowWrap: 'break-word'
                }}>
                    {formattedContent}
                </div>
            );
        };

        // Navigation Component
        const Navigation = ({ currentPage, setCurrentPage }) => {
            return (
                <div style={{
                    background: 'rgba(255, 255, 255, 0.95)',
                    padding: '16px 0',
                    height: '70px',
                    display: 'flex',
                    alignItems: 'center'
                }}>
                    <div style={{
                        maxWidth: '1200px', 
                        margin: '0 auto', 
                        padding: '0 20px', 
                        width: '100%',
                        display: 'flex', 
                        justifyContent: 'space-between', 
                        alignItems: 'center'
                    }}>
                        <div style={{display: 'flex', alignItems: 'center', gap: '15px'}}>
                            <div style={{
                                width: '48px',
                                height: '48px',
                                borderRadius: '50%',
                                background: 'linear-gradient(135deg, #667eea, #764ba2)',
                                display: 'flex',
                                alignItems: 'center',
                                justifyContent: 'center'
                            }}>
                                <i className="fas fa-graduation-cap" style={{color: 'white', fontSize: '20px'}}></i>
                            </div>
                            <span style={{
                                fontSize: '24px',
                                fontWeight: 'bold',
                                background: 'linear-gradient(90deg, #5e72e4, #825ee4)',
                                WebkitBackgroundClip: 'text',
                                WebkitTextFillColor: 'transparent'
                            }}>
                                BU Course Agent
                            </span>
                        </div>
                        <nav style={{display: 'flex', gap: '30px', alignItems: 'center'}}>
                            <button
                                onClick={() => setCurrentPage('home')}
                                style={{
                                    background: 'none',
                                    border: 'none',
                                    cursor: 'pointer',
                                    color: currentPage === 'home' ? '#5e72e4' : '#333',
                                    fontWeight: currentPage === 'home' ? 'bold' : 'normal',
                                    fontSize: '16px'
                                }}
                            >
                                Home
                            </button>
                            <button
                                onClick={() => setCurrentPage('about')}
                                style={{
                                    background: 'none',
                                    border: 'none',
                                    cursor: 'pointer',
                                    color: currentPage === 'about' ? '#5e72e4' : '#333',
                                    fontWeight: currentPage === 'about' ? 'bold' : 'normal',
                                    fontSize: '16px'
                                }}
                            >
                                About
                            </button>
                            <button
                                onClick={() => setCurrentPage('contact')}
                                style={{
                                    background: 'none',
                                    border: 'none',
                                    cursor: 'pointer',
                                    color: currentPage === 'contact' ? '#5e72e4' : '#333',
                                    fontWeight: currentPage === 'contact' ? 'bold' : 'normal',
                                    fontSize: '16px'
                                }}
                            >
                                Contact Us
                            </button>
                            <button
                                onClick={() => setCurrentPage('chat')}
                                style={{
                                    background: 'linear-gradient(135deg, #5e72e4, #825ee4)',
                                    color: 'white',
                                    padding: '10px 24px',
                                    borderRadius: '50px',
                                    border: 'none',
                                    fontWeight: 'bold',
                                    cursor: 'pointer',
                                    fontSize: '16px',
                                    boxShadow: '0 4px 15px rgba(94, 114, 228, 0.4)'
                                }}
                            >
                                Chat Now
                            </button>
                        </nav>
                    </div>
                </div>
            );
        };

        // Footer Component
        const Footer = ({ setCurrentPage }) => {
            return (
                <div style={{
                    background: 'rgba(255, 255, 255, 0.95)',
                    padding: '20px 0',
                    height: '70px',
                    display: 'flex',
                    alignItems: 'center'
                }}>
                    <div style={{textAlign: 'center', width: '100%'}}>
                        <button 
                            onClick={() => setCurrentPage('terms')}
                            style={{background: 'none', border: 'none', cursor: 'pointer', color: '#5e72e4', marginRight: '20px'}}
                        >
                            Terms of Service
                        </button>
                        <span style={{color: '#999'}}>|</span>
                        <button 
                            onClick={() => setCurrentPage('privacy')}
                            style={{background: 'none', border: 'none', cursor: 'pointer', color: '#5e72e4', margin: '0 20px'}}
                        >
                            Privacy policy
                        </button>
                        <span style={{color: '#999'}}>|</span>
                        <button 
                            onClick={() => setCurrentPage('contact')}
                            style={{background: 'none', border: 'none', cursor: 'pointer', color: '#5e72e4', marginLeft: '20px'}}
                        >
                            Contact us
                        </button>
                    </div>
                </div>
            );
        };

        // Home Page
        const HomePage = ({ setCurrentPage }) => {
            return (
                <div style={{
                    height: 'calc(100vh - 140px)',
                    display: 'flex',
                    flexDirection: 'column',
                    justifyContent: 'center',
                    alignItems: 'center',
                    textAlign: 'center',
                    color: 'white',
                    animation: 'fadeIn 1s ease-out'
                }}>
                    <i className="fas fa-robot" style={{
                        fontSize: '96px', 
                        marginBottom: '30px', 
                        opacity: 0.9,
                        animation: 'floating 6s ease-in-out infinite'
                    }}></i>
                    <h1 style={{
                        fontSize: '48px', 
                        marginBottom: '20px', 
                        fontWeight: 'bold',
                        animation: 'slideIn 0.8s ease-out'
                    }}>
                        BU Course Agent
                    </h1>
                    <p style={{
                        fontSize: '20px', 
                        marginBottom: '30px', 
                        opacity: 0.9, 
                        maxWidth: '600px',
                        animation: 'fadeIn 1.2s ease-out'
                    }}>
                        Your AI-powered academic advisor for BU MET Computer Science programs
                    </p>
                    <button 
                        onClick={() => setCurrentPage('chat')}
                        style={{
                            background: 'white',
                            color: '#5e72e4',
                            fontSize: '18px',
                            padding: '15px 40px',
                            borderRadius: '50px',
                            border: 'none',
                            fontWeight: 'bold',
                            cursor: 'pointer',
                            boxShadow: '0 10px 30px rgba(0,0,0,0.2)',
                            animation: 'pulse 2s infinite',
                            transition: 'all 0.3s'
                        }}
                        onMouseEnter={(e) => {
                            e.target.style.transform = 'scale(1.1)';
                            e.target.style.boxShadow = '0 15px 40px rgba(0,0,0,0.3)';
                        }}
                        onMouseLeave={(e) => {
                            e.target.style.transform = 'scale(1)';
                            e.target.style.boxShadow = '0 10px 30px rgba(0,0,0,0.2)';
                        }}
                    >
                        Get Started
                    </button>
                </div>
            );
        };

        // Upload Modal Component
        const UploadModal = ({ isOpen, onClose, onUpload }) => {
            const [selectedFile, setSelectedFile] = useState(null);
            const [documentType, setDocumentType] = useState('');
            const fileInputRef = useRef(null);

            const documentTypes = [
                { value: 'transcript', label: 'Academic Transcript', icon: 'fa-file-alt' },
                { value: 'resume', label: 'Resume/CV', icon: 'fa-id-card' },
                { value: 'job_description', label: 'Job Description', icon: 'fa-briefcase' },
                { value: 'course_list', label: 'Course List', icon: 'fa-list' },
            ];

            const handleFileSelect = (e) => {
                const file = e.target.files[0];
                if (file) {
                    setSelectedFile(file);
                }
            };

            const handleUpload = () => {
                if (selectedFile && documentType) {
                    onUpload(selectedFile, documentType);
                    setSelectedFile(null);
                    setDocumentType('');
                    onClose();
                }
            };

            if (!isOpen) return null;

            return (
                <div style={{
                    position: 'fixed',
                    top: 0,
                    left: 0,
                    right: 0,
                    bottom: 0,
                    background: 'rgba(0, 0, 0, 0.7)',
                    display: 'flex',
                    alignItems: 'center',
                    justifyContent: 'center',
                    zIndex: 1000
                }}>
                    <div style={{
                        background: 'linear-gradient(135deg, #5e72e4, #825ee4)',
                        borderRadius: '20px',
                        padding: '30px',
                        maxWidth: '500px',
                        width: '90%',
                        color: 'white'
                    }}>
                        <div style={{display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px'}}>
                            <h2 style={{fontSize: '24px', fontWeight: 'bold'}}>Upload Document</h2>
                            <button onClick={onClose} style={{background: 'none', border: 'none', cursor: 'pointer', fontSize: '28px', color: 'white'}}>
                                ×
                            </button>
                        </div>

                        <div style={{marginBottom: '20px'}}>
                            <label style={{display: 'block', marginBottom: '10px', fontWeight: '500'}}>
                                Select Document Type:
                            </label>
                            {documentTypes.map(type => (
                                <button
                                    key={type.value}
                                    onClick={() => setDocumentType(type.value)}
                                    style={{
                                        display: 'block',
                                        width: '100%',
                                        padding: '12px',
                                        marginBottom: '8px',
                                        borderRadius: '12px',
                                        border: documentType === type.value ? '2px solid white' : '1px solid rgba(255,255,255,0.3)',
                                        background: documentType === type.value ? 'rgba(255,255,255,0.2)' : 'rgba(255,255,255,0.1)',
                                        color: 'white',
                                        textAlign: 'left',
                                        cursor: 'pointer'
                                    }}
                                >
                                    <i className={`fas ${type.icon}`} style={{marginRight: '10px'}}></i>
                                    {type.label}
                                </button>
                            ))}
                        </div>

                        {documentType && (
                            <div style={{marginBottom: '20px'}}>
                                <input
                                    ref={fileInputRef}
                                    type="file"
                                    onChange={handleFileSelect}
                                    accept=".pdf,.doc,.docx,.txt"
                                    style={{display: 'none'}}
                                />
                                <button
                                    onClick={() => fileInputRef.current?.click()}
                                    style={{
                                        width: '100%',
                                        padding: '12px',
                                        borderRadius: '12px',
                                        border: '1px solid rgba(255,255,255,0.3)',
                                        background: 'rgba(255,255,255,0.1)',
                                        color: 'white',
                                        cursor: 'pointer'
                                    }}
                                >
                                    <i className="fas fa-cloud-upload-alt" style={{marginRight: '10px'}}></i>
                                    {selectedFile ? selectedFile.name : 'Choose File'}
                                </button>
                            </div>
                        )}

                        <div style={{display: 'flex', gap: '10px'}}>
                            <button
                                onClick={handleUpload}
                                disabled={!selectedFile || !documentType}
                                style={{
                                    flex: 1,
                                    padding: '12px',
                                    borderRadius: '12px',
                                    border: 'none',
                                    background: 'white',
                                    color: '#5e72e4',
                                    fontWeight: 'bold',
                                    opacity: (!selectedFile || !documentType) ? 0.5 : 1,
                                    cursor: (!selectedFile || !documentType) ? 'not-allowed' : 'pointer'
                                }}
                            >
                                Upload
                            </button>
                            <button
                                onClick={onClose}
                                style={{
                                    flex: 1,
                                    padding: '12px',
                                    borderRadius: '12px',
                                    border: '1px solid rgba(255,255,255,0.3)',
                                    background: 'rgba(255,255,255,0.1)',
                                    color: 'white',
                                    cursor: 'pointer'
                                }}
                            >
                                Cancel
                            </button>
                        </div>
                    </div>
                </div>
            );
        };

        // Chat Page Component with all features
        const ChatPage = ({ messages, setMessages, inputValue, setInputValue, sessionId, setSessionId }) => {
            const [isTyping, setIsTyping] = useState(false);
            const [uploadModalOpen, setUploadModalOpen] = useState(false);
            const [tokenCount, setTokenCount] = useState(0);
            const messagesEndRef = useRef(null);

            useEffect(() => {
                if (messages.length === 0) {
                    setMessages([{
                        id: Date.now(),
                        text: "Hello! I'm your BU Course Assistant. How can I help you today?",
                        sender: 'agent',
                        timestamp: new Date()
                    }]);
                }
            }, []);

            useEffect(() => {
                messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });
            }, [messages]);

            const sendMessage = async (text = null) => {
                const messageText = text || inputValue.trim();
                if (!messageText) return;

                const tokens = countTokens(messageText);
                if (tokens > 100) {
                    alert(`Your message is too long (${tokens} tokens). Please limit to 100 tokens.`);
                    return;
                }

                const userMessage = {
                    id: Date.now(),
                    text: messageText,
                    sender: 'user',
                    timestamp: new Date()
                };
                setMessages(prev => [...prev, userMessage]);
                setInputValue('');
                setTokenCount(0);
                setIsTyping(true);

                try {
                    console.log('Sending message to:', `${API_BASE_URL}/chat`);
                    console.log('Message payload:', {
                        message: messageText,
                        session_id: sessionId
                    });

                    const response = await fetch(`${API_BASE_URL}/chat`, {
                        method: 'POST',
                        headers: { 
                            'Content-Type': 'application/json',
                            'Accept': 'application/json'
                        },
                        body: JSON.stringify({
                            message: messageText,
                            session_id: sessionId || null,
                            user_id: 'user_' + Date.now()
                        })
                    });

                    console.log('Response status:', response.status);
                    
                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }

                    const data = await response.json();
                    console.log('Response data:', data);
                    
                    if (!sessionId && data.session_id) {
                        setSessionId(data.session_id);
                    }

                    const agentMessage = {
                        id: Date.now() + 1,
                        text: data.response || data.message || "I'm here to help with your academic planning!",
                        sender: 'agent',
                        timestamp: new Date()
                    };
                    setMessages(prev => [...prev, agentMessage]);
                    
                } catch (error) {
                    console.error('Error sending message:', error);
                    console.error('Error details:', error.message);
                    
                    // Show more specific error message
                    let errorMessage = "I'm having trouble connecting. ";
                    if (error.message.includes('404')) {
                        errorMessage += "The chat endpoint was not found. Please check if the backend is running at the correct URL.";
                    } else if (error.message.includes('Failed to fetch')) {
                        errorMessage += "Cannot connect to the server. Please make sure the backend is running on port 8000.";
                    } else {
                        errorMessage += "Error: " + error.message;
                    }
                    
                    setMessages(prev => [...prev, {
                        id: Date.now() + 1,
                        text: errorMessage,
                        sender: 'agent',
                        timestamp: new Date()
                    }]);
                } finally {
                    setIsTyping(false);
                }
            };

            const handleFileUpload = async (file, documentType) => {
                const typeLabels = {
                    'transcript': 'transcript',
                    'resume': 'resume',
                    'job_description': 'job description',
                    'course_list': 'course list'
                };
                
                try {
                    // Read the file content
                    const reader = new FileReader();
                    
                    reader.onload = async (e) => {
                        const fileContent = e.target.result;
                        
                        // For text files, send the content directly
                        let documentText = '';
                        
                        if (file.type === 'text/plain' || file.name.endsWith('.txt')) {
                            documentText = fileContent;
                        } else if (file.type === 'application/pdf' || file.name.endsWith('.pdf')) {
                            // For PDFs, we'd need a PDF parser library
                            // For now, we'll send a note that PDF parsing is needed
                            documentText = `[PDF Document - ${file.name}]\n\nNote: PDF parsing requires backend processing. Please implement PDF text extraction on the server side.`;
                        } else if (file.type === 'application/vnd.openxmlformats-officedocument.wordprocessingml.document' || 
                                   file.type === 'application/msword' ||
                                   file.name.endsWith('.docx') || 
                                   file.name.endsWith('.doc')) {
                            // For Word documents, we'd need a parser library
                            documentText = `[Word Document - ${file.name}]\n\nNote: Word document parsing requires backend processing. Please implement DOCX text extraction on the server side.`;
                        } else {
                            documentText = fileContent;
                        }
                        
                        // Create a comprehensive message with the document content
                        const message = `User uploads a ${typeLabels[documentType]}: ${file.name}\n\n--- DOCUMENT CONTENT START ---\n${documentText}\n--- DOCUMENT CONTENT END ---\n\nPlease analyze this ${typeLabels[documentType]} and provide insights.`;
                        
                        console.log('Uploading document with content:', {
                            type: documentType,
                            filename: file.name,
                            contentLength: documentText.length,
                            preview: documentText.substring(0, 200) + '...'
                        });
                        
                        sendMessage(message);
                    };
                    
                    reader.onerror = (error) => {
                        console.error('Error reading file:', error);
                        alert('Error reading file. Please try again.');
                    };
                    
                    // Read as text for .txt files
                    if (file.type === 'text/plain' || file.name.endsWith('.txt')) {
                        reader.readAsText(file);
                    } else {
                        // For other file types, read as text anyway (will need proper parsing)
                        reader.readAsText(file);
                    }
                    
                } catch (error) {
                    console.error('Error processing file:', error);
                    alert('Error processing file. Please try again.');
                }
            };

            const newChat = () => {
                if (window.confirm('Start a new chat? Current conversation will be lost.')) {
                    setMessages([{
                        id: Date.now(),
                        text: "New chat started. How can I help?",
                        sender: 'agent',
                        timestamp: new Date()
                    }]);
                    setSessionId(null);
                }
            };

            const exportChat = () => {
                if (messages.length === 0) {
                    alert('No messages to export.');
                    return;
                }

                const chatContent = messages.map(msg => {
                    const sender = msg.sender === 'user' ? 'You' : 'BU Course Agent';
                    const time = new Date(msg.timestamp).toLocaleString();
                    return `[${time}] ${sender}: ${msg.text}`;
                }).join('\n\n');

                const blob = new Blob([chatContent], { type: 'text/plain' });
                const url = window.URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `BU_Course_Agent_Chat_${new Date().toISOString().slice(0,10)}.txt`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                window.URL.revokeObjectURL(url);
            };

            const clearChat = () => {
                if (window.confirm('Clear all messages? This cannot be undone.')) {
                    setMessages([{
                        id: Date.now(),
                        text: "Chat cleared. How can I help you today?",
                        sender: 'agent',
                        timestamp: new Date()
                    }]);
                    setSessionId(null);
                    setInputValue('');
                    setTokenCount(0);
                }
            };

            const predefinedPrompts = [
                "What topics are covered in BU MET CS633?",
                "What courses are relevant to my career goals?",
                "Can you help me plan my class schedule?",
                "Which are the top trending skills in CS?"
            ];

            return (
                <div style={{
                    height: 'calc(100vh - 140px)',
                    display: 'flex',
                    overflow: 'hidden'
                }}>
                    {/* Upload Modal */}
                    <UploadModal
                        isOpen={uploadModalOpen}
                        onClose={() => setUploadModalOpen(false)}
                        onUpload={handleFileUpload}
                    />

                    {/* Sidebar */}
                    <div style={{
                        width: '250px',
                        background: 'rgba(255, 255, 255, 0.1)',
                        padding: '20px',
                        display: 'flex',
                        flexDirection: 'column',
                        gap: '10px'
                    }}>
                        <button 
                            onClick={newChat}
                            style={{
                                background: 'white',
                                color: '#5e72e4',
                                padding: '10px',
                                borderRadius: '25px',
                                border: 'none',
                                cursor: 'pointer',
                                fontWeight: 'bold',
                                marginBottom: '10px'
                            }}
                        >
                            <i className="fas fa-plus" style={{marginRight: '8px'}}></i>
                            New Chat
                        </button>

                        <h3 style={{color: 'white', fontSize: '14px', marginBottom: '10px'}}>
                            Predefined Prompts
                        </h3>
                        
                        {predefinedPrompts.map((prompt, index) => (
                            <button
                                key={index}
                                onClick={() => sendMessage(prompt)}
                                style={{
                                    background: 'rgba(255, 255, 255, 0.1)',
                                    color: 'white',
                                    padding: '10px',
                                    borderRadius: '10px',
                                    border: '1px solid rgba(255, 255, 255, 0.2)',
                                    cursor: 'pointer',
                                    textAlign: 'left',
                                    fontSize: '12px',
                                    transition: 'all 0.3s'
                                }}
                                onMouseEnter={(e) => {
                                    e.target.style.background = 'rgba(255, 255, 255, 0.2)';
                                    e.target.style.transform = 'translateX(5px)';
                                }}
                                onMouseLeave={(e) => {
                                    e.target.style.background = 'rgba(255, 255, 255, 0.1)';
                                    e.target.style.transform = 'translateX(0)';
                                }}
                            >
                                {prompt}
                            </button>
                        ))}

                        <div style={{marginTop: '20px'}}>
                            <button 
                                onClick={() => setUploadModalOpen(true)}
                                style={{
                                    width: '100%',
                                    background: 'rgba(255, 255, 255, 0.1)',
                                    color: 'white',
                                    padding: '10px',
                                    borderRadius: '10px',
                                    border: '1px solid rgba(255, 255, 255, 0.2)',
                                    cursor: 'pointer',
                                    fontSize: '12px',
                                    marginBottom: '10px'
                                }}
                            >
                                <i className="fas fa-upload" style={{marginRight: '8px'}}></i>
                                Upload Document
                            </button>

                            <button 
                                onClick={exportChat}
                                style={{
                                    width: '100%',
                                    background: 'rgba(255, 255, 255, 0.1)',
                                    color: 'white',
                                    padding: '10px',
                                    borderRadius: '10px',
                                    border: '1px solid rgba(255, 255, 255, 0.2)',
                                    cursor: 'pointer',
                                    fontSize: '12px',
                                    marginBottom: '10px'
                                }}
                            >
                                <i className="fas fa-download" style={{marginRight: '8px'}}></i>
                                Export Chat
                            </button>

                            <button 
                                onClick={clearChat}
                                style={{
                                    width: '100%',
                                    background: 'rgba(255, 255, 255, 0.1)',
                                    color: 'white',
                                    padding: '10px',
                                    borderRadius: '10px',
                                    border: '1px solid rgba(255, 255, 255, 0.2)',
                                    cursor: 'pointer',
                                    fontSize: '12px'
                                }}
                            >
                                <i className="fas fa-trash" style={{marginRight: '8px'}}></i>
                                Clear Chat
                            </button>
                        </div>
                    </div>

                    {/* Chat Area */}
                    <div style={{
                        flex: 1,
                        display: 'flex',
                        flexDirection: 'column',
                        background: 'rgba(255, 255, 255, 0.05)',
                        margin: '20px',
                        borderRadius: '20px'
                    }}>
                        {/* Header */}
                        <div style={{
                            padding: '20px',
                            background: 'rgba(255, 255, 255, 0.1)',
                            borderRadius: '20px 20px 0 0',
                            textAlign: 'center'
                        }}>
                            <h2 style={{color: 'white', margin: 0}}>BU Course Agent</h2>
                        </div>

                        {/* Messages */}
                        <div style={{
                            flex: 1,
                            padding: '20px',
                            overflowY: 'auto',
                            display: 'flex',
                            flexDirection: 'column',
                            gap: '15px'
                        }}>
                            {messages.map(message => (
                                <div key={message.id} style={{
                                    display: 'flex',
                                    alignItems: 'flex-start',
                                    justifyContent: message.sender === 'user' ? 'flex-end' : 'flex-start'
                                }}>
                                    {message.sender === 'agent' && (
                                        <span style={{fontSize: '24px', marginRight: '10px'}}>🤖</span>
                                    )}
                                    <div style={{
                                        maxWidth: '70%',
                                        padding: '12px 16px',
                                        borderRadius: '12px',
                                        background: message.sender === 'user' 
                                            ? 'linear-gradient(135deg, #667eea, #764ba2)' 
                                            : 'rgba(255, 255, 255, 0.1)',
                                        color: 'white'
                                    }}>
                                        {message.sender === 'agent' ? formatMessageText(message.text) : message.text}
                                    </div>
                                    {message.sender === 'user' && (
                                        <span style={{fontSize: '24px', marginLeft: '10px'}}>👤</span>
                                    )}
                                </div>
                            ))}
                            
                            {isTyping && (
                                <div style={{display: 'flex', alignItems: 'center'}}>
                                    <span style={{fontSize: '24px', marginRight: '10px'}}>🤖</span>
                                    <div style={{
                                        padding: '12px 16px',
                                        borderRadius: '12px',
                                        background: 'rgba(255, 255, 255, 0.1)',
                                        display: 'flex',
                                        alignItems: 'center',
                                        gap: '3px'
                                    }}>
                                        <span className="typing-dot"></span>
                                        <span className="typing-dot"></span>
                                        <span className="typing-dot"></span>
                                    </div>
                                </div>
                            )}
                            <div ref={messagesEndRef} />
                        </div>

                        {/* Input */}
                        <div style={{
                            padding: '20px',
                            background: 'rgba(255, 255, 255, 0.1)',
                            borderRadius: '0 0 20px 20px'
                        }}>
                            <div style={{display: 'flex', gap: '10px', alignItems: 'center'}}>
                                <button
                                    onClick={() => setUploadModalOpen(true)}
                                    style={{
                                        padding: '12px',
                                        borderRadius: '50%',
                                        border: 'none',
                                        background: 'rgba(255, 255, 255, 0.1)',
                                        color: 'white',
                                        cursor: 'pointer'
                                    }}
                                    title="Upload Document"
                                >
                                    <i className="fas fa-paperclip"></i>
                                </button>
                                <div style={{flex: 1, position: 'relative'}}>
                                    <input
                                        type="text"
                                        value={inputValue}
                                        onChange={(e) => {
                                            const newValue = e.target.value;
                                            setInputValue(newValue);
                                            const newTokenCount = countTokens(newValue);
                                            setTokenCount(newTokenCount);
                                            console.log('Input changed:', { 
                                                text: newValue, 
                                                tokens: newTokenCount,
                                                length: newValue.length 
                                            });
                                        }}
                                        onKeyPress={(e) => {
                                            if (e.key === 'Enter' && !e.shiftKey) {
                                                e.preventDefault();
                                                const currentTokens = countTokens(inputValue);
                                                if (currentTokens <= 100 && inputValue.trim()) {
                                                    sendMessage();
                                                } else if (currentTokens > 100) {
                                                    alert(`Your message is too long (${currentTokens} tokens). Please limit to 100 tokens.`);
                                                }
                                            }
                                        }}
                                        placeholder="Type a message..."
                                        style={{
                                            width: '100%',
                                            padding: '12px 80px 12px 15px',
                                            borderRadius: '25px',
                                            border: '2px solid ' + (tokenCount > 100 ? '#f87171' : 'transparent'),
                                            background: 'rgba(255, 255, 255, 0.1)',
                                            color: 'white',
                                            fontSize: '14px',
                                            outline: 'none',
                                            transition: 'border-color 0.3s'
                                        }}
                                    />
                                    <span style={{
                                        position: 'absolute',
                                        right: '10px',
                                        top: '50%',
                                        transform: 'translateY(-50%)',
                                        fontSize: '12px',
                                        padding: '4px 8px',
                                        borderRadius: '12px',
                                        background: tokenCount > 100 ? 'rgba(248, 113, 113, 0.2)' : 
                                                   tokenCount > 80 ? 'rgba(251, 191, 36, 0.2)' : 
                                                   'rgba(134, 239, 172, 0.2)',
                                        color: tokenCount > 100 ? '#f87171' : 
                                               tokenCount > 80 ? '#fbbf24' : 
                                               '#86efac'
                                    }}>
                                        {tokenCount}/100
                                    </span>
                                </div>
                                <button 
                                    onClick={() => sendMessage()}
                                    disabled={tokenCount > 100}
                                    style={{
                                        padding: '12px 20px',
                                        borderRadius: '25px',
                                        border: 'none',
                                        background: tokenCount > 100 ? '#999' : 'white',
                                        color: tokenCount > 100 ? '#666' : '#5e72e4',
                                        cursor: tokenCount > 100 ? 'not-allowed' : 'pointer'
                                    }}
                                >
                                    <i className="fas fa-paper-plane"></i>
                                </button>
                            </div>
                            {tokenCount > 100 && (
                                <p style={{color: '#f87171', fontSize: '12px', marginTop: '8px', textAlign: 'center'}}>
                                    Message exceeds 100 token limit
                                </p>
                            )}
                        </div>
                    </div>
                </div>
            );
        };

        // About Page with complete content
        const AboutPage = () => (
            <div style={{
                height: 'calc(100vh - 140px)',
                padding: '40px',
                color: 'white',
                overflow: 'auto',
                animation: 'fadeIn 0.8s ease-out'
            }}>
                <h1 style={{textAlign: 'center', marginBottom: '30px', animation: 'slideIn 0.6s ease-out'}}>About Us</h1>
                <div style={{
                    maxWidth: '900px',
                    margin: '0 auto'
                }}>
                    <div style={{
                        background: 'rgba(255, 255, 255, 0.1)',
                        padding: '30px',
                        borderRadius: '20px',
                        marginBottom: '20px',
                        backdropFilter: 'blur(10px)',
                        animation: 'fadeIn 1s ease-out'
                    }}>
                        <h2 style={{marginBottom: '15px'}}>Who We Are</h2>
                        <p style={{marginBottom: '20px', lineHeight: '1.6'}}>
                            We are graduate students at Boston University's Metropolitan College, enrolled in the 
                            MET CS 633 Software Quality, Testing, and Security Management course. Our team is 
                            passionate about leveraging AI technology to improve the academic experience for students.
                        </p>
                        
                        <h3 style={{marginBottom: '15px'}}>Our Team:</h3>
                        <ul style={{listStyle: 'none', padding: 0}}>
                            <li style={{padding: '10px 0', borderBottom: '1px solid rgba(255,255,255,0.1)'}}>
                                <i className="fas fa-user-graduate" style={{marginRight: '10px', color: '#86efac'}}></i>
                                <strong>Sean Silver</strong> - Team Lead & Backend Developer
                                <p style={{marginLeft: '30px', fontSize: '14px', opacity: 0.8}}>
                                    Leading architecture design and API development
                                </p>
                            </li>
                            <li style={{padding: '10px 0', borderBottom: '1px solid rgba(255,255,255,0.1)'}}>
                                <i className="fas fa-user-graduate" style={{marginRight: '10px', color: '#86efac'}}></i>
                                <strong>Gagan Veginati</strong> - Frontend Developer
                                <p style={{marginLeft: '30px', fontSize: '14px', opacity: 0.8}}>
                                    Creating responsive UI and user experience
                                </p>
                            </li>
                            <li style={{padding: '10px 0', borderBottom: '1px solid rgba(255,255,255,0.1)'}}>
                                <i className="fas fa-user-graduate" style={{marginRight: '10px', color: '#86efac'}}></i>
                                <strong>Brendan Collins</strong> - Scrum Master & Designer
                                <p style={{marginLeft: '30px', fontSize: '14px', opacity: 0.8}}>
                                    Managing sprints and designing wireframes
                                </p>
                            </li>
                            <li style={{padding: '10px 0', borderBottom: '1px solid rgba(255,255,255,0.1)'}}>
                                <i className="fas fa-user-graduate" style={{marginRight: '10px', color: '#86efac'}}></i>
                                <strong>Zharas Omirzak</strong> - UI Designer & Tester
                                <p style={{marginLeft: '30px', fontSize: '14px', opacity: 0.8}}>
                                    Designing interfaces and quality assurance
                                </p>
                            </li>
                            <li style={{padding: '10px 0'}}>
                                <i className="fas fa-user-graduate" style={{marginRight: '10px', color: '#86efac'}}></i>
                                <strong>Jonathan Rothendler</strong> - Database Administrator
                                <p style={{marginLeft: '30px', fontSize: '14px', opacity: 0.8}}>
                                    Managing data architecture and storage
                                </p>
                            </li>
                        </ul>
                    </div>
                    
                    <div style={{
                        background: 'rgba(255, 255, 255, 0.1)',
                        padding: '30px',
                        borderRadius: '20px',
                        marginBottom: '20px',
                        backdropFilter: 'blur(10px)',
                        animation: 'fadeIn 1.2s ease-out'
                    }}>
                        <h2 style={{marginBottom: '15px'}}>Our Mission</h2>
                        <p style={{lineHeight: '1.6'}}>
                            The BU Course Agent is designed to help students navigate the complex landscape of course 
                            selection and degree planning. By leveraging Google's Gemini AI technology, we provide 
                            personalized academic guidance that considers your career goals, prerequisites, and 
                            academic interests.
                        </p>
                    </div>
                    
                    <div style={{
                        background: 'rgba(255, 255, 255, 0.1)',
                        padding: '30px',
                        borderRadius: '20px',
                        backdropFilter: 'blur(10px)',
                        animation: 'fadeIn 1.4s ease-out'
                    }}>
                        <h2 style={{marginBottom: '15px'}}>What We Offer</h2>
                        <ul style={{lineHeight: '1.8'}}>
                            <li>🎯 Personalized course recommendations based on your goals</li>
                            <li>📚 Comprehensive information about BU MET CS programs</li>
                            <li>🗓️ Smart schedule planning assistance</li>
                            <li>💼 Career-aligned academic guidance</li>
                            <li>📊 Transcript analysis and degree progress tracking</li>
                        </ul>
                    </div>
                </div>
            </div>
        );

        // Contact Page with complete content
        const ContactPage = () => (
            <div style={{
                height: 'calc(100vh - 140px)',
                padding: '40px',
                color: 'white',
                overflow: 'auto',
                animation: 'fadeIn 0.8s ease-out'
            }}>
                <h1 style={{textAlign: 'center', marginBottom: '30px', animation: 'slideIn 0.6s ease-out'}}>Contact Us</h1>
                <div style={{
                    maxWidth: '800px',
                    margin: '0 auto'
                }}>
                    <div style={{
                        background: 'rgba(255, 255, 255, 0.1)',
                        padding: '30px',
                        borderRadius: '20px',
                        marginBottom: '20px',
                        backdropFilter: 'blur(10px)',
                        animation: 'fadeIn 1s ease-out'
                    }}>
                        <h2 style={{marginBottom: '20px'}}>Get in Touch</h2>
                        <p style={{marginBottom: '25px', lineHeight: '1.6'}}>
                            For questions about this project or to learn more about BU's Computer Science programs, 
                            please use the following resources:
                        </p>
                        
                        <div style={{
                            padding: '20px',
                            background: 'rgba(255, 255, 255, 0.1)',
                            borderRadius: '15px',
                            marginBottom: '15px',
                            cursor: 'pointer',
                            transition: 'all 0.3s'
                        }}
                        onMouseEnter={(e) => e.currentTarget.style.transform = 'translateX(10px)'}
                        onMouseLeave={(e) => e.currentTarget.style.transform = 'translateX(0)'}>
                            <a href="https://www.bu.edu/met/degrees-certificates/ms-computer-information-systems/" 
                               target="_blank" 
                               rel="noopener noreferrer"
                               style={{color: 'white', textDecoration: 'none'}}>
                                <i className="fas fa-graduation-cap" style={{marginRight: '15px', fontSize: '20px'}}></i>
                                <strong>BU MET MS Computer Information Systems</strong>
                                <p style={{marginLeft: '35px', fontSize: '14px', opacity: 0.8}}>
                                    Explore our graduate programs and curriculum
                                </p>
                            </a>
                        </div>
                        
                        <div style={{
                            padding: '20px',
                            background: 'rgba(255, 255, 255, 0.1)',
                            borderRadius: '15px',
                            marginBottom: '15px',
                            cursor: 'pointer',
                            transition: 'all 0.3s'
                        }}
                        onMouseEnter={(e) => e.currentTarget.style.transform = 'translateX(10px)'}
                        onMouseLeave={(e) => e.currentTarget.style.transform = 'translateX(0)'}>
                            <a href="https://met.bu.edu/inquiryform" 
                               target="_blank" 
                               rel="noopener noreferrer"
                               style={{color: 'white', textDecoration: 'none'}}>
                                <i className="fas fa-envelope" style={{marginRight: '15px', fontSize: '20px'}}></i>
                                <strong>BU MET Inquiry Form</strong>
                                <p style={{marginLeft: '35px', fontSize: '14px', opacity: 0.8}}>
                                    Contact admissions for program information
                                </p>
                            </a>
                        </div>
                        
                        <div style={{
                            padding: '20px',
                            background: 'rgba(255, 255, 255, 0.1)',
                            borderRadius: '15px',
                            cursor: 'pointer',
                            transition: 'all 0.3s'
                        }}
                        onMouseEnter={(e) => e.currentTarget.style.transform = 'translateX(10px)'}
                        onMouseLeave={(e) => e.currentTarget.style.transform = 'translateX(0)'}>
                            <a href="https://www.bu.edu/academics/met/courses/met-cs-633/" 
                               target="_blank" 
                               rel="noopener noreferrer"
                               style={{color: 'white', textDecoration: 'none'}}>
                                <i className="fas fa-book" style={{marginRight: '15px', fontSize: '20px'}}></i>
                                <strong>MET CS 633 Course Information</strong>
                                <p style={{marginLeft: '35px', fontSize: '14px', opacity: 0.8}}>
                                    Learn about our Software Quality & Testing course
                                </p>
                            </a>
                        </div>
                    </div>
                    
                    <div style={{
                        background: 'rgba(255, 255, 255, 0.1)',
                        padding: '30px',
                        borderRadius: '20px',
                        backdropFilter: 'blur(10px)',
                        animation: 'fadeIn 1.2s ease-out',
                        textAlign: 'center'
                    }}>
                        <h3 style={{marginBottom: '15px'}}>Office Hours</h3>
                        <p>Monday - Friday: 9:00 AM - 5:00 PM EST</p>
                        <p style={{marginTop: '20px', fontSize: '14px', opacity: 0.8}}>
                            This is a student project. For official academic advising, 
                            please contact BU MET directly.
                        </p>
                    </div>
                </div>
            </div>
        );

        // Terms Page with complete content
        const TermsPage = () => (
            <div style={{
                height: 'calc(100vh - 140px)',
                padding: '40px',
                color: 'white',
                overflow: 'auto',
                animation: 'fadeIn 0.8s ease-out'
            }}>
                <h1 style={{textAlign: 'center', marginBottom: '30px', animation: 'slideIn 0.6s ease-out'}}>Terms of Service</h1>
                <div style={{
                    maxWidth: '900px',
                    margin: '0 auto',
                    background: 'rgba(255, 255, 255, 0.1)',
                    padding: '40px',
                    borderRadius: '20px',
                    backdropFilter: 'blur(10px)'
                }}>
                    <p style={{marginBottom: '20px', fontStyle: 'italic'}}>
                        Last Updated: December 2024
                    </p>
                    
                    <h3 style={{marginBottom: '15px', color: '#86efac'}}>1. Acceptance of Terms</h3>
                    <p style={{marginBottom: '25px', lineHeight: '1.6'}}>
                        By accessing and using the BU Course Agent, you acknowledge that you have read, understood, 
                        and agree to be bound by these Terms of Service. This is a student project created for 
                        educational purposes as part of CS633 at Boston University.
                    </p>
                    
                    <h3 style={{marginBottom: '15px', color: '#86efac'}}>2. Purpose and Scope</h3>
                    <p style={{marginBottom: '25px', lineHeight: '1.6'}}>
                        The BU Course Agent is a prototype AI-powered academic advisory tool developed for the 
                        CS633 Software Quality, Testing, and Security Management course. It is NOT an official 
                        Boston University advising system and should not be used as the sole source for academic 
                        planning decisions.
                    </p>
                    
                    <h3 style={{marginBottom: '15px', color: '#86efac'}}>3. No Official Academic Advice</h3>
                    <p style={{marginBottom: '25px', lineHeight: '1.6'}}>
                        All course recommendations, career insights, and academic guidance generated by this tool 
                        are informational only and should not be considered official academic advising. Students 
                        must consult with official BU academic advisors for formal degree planning and course 
                        selection.
                    </p>
                    
                    <h3 style={{marginBottom: '15px', color: '#86efac'}}>4. User Responsibilities</h3>
                    <p style={{marginBottom: '25px', lineHeight: '1.6'}}>
                        Users are responsible for:
                    </p>
                    <ul style={{marginLeft: '30px', marginBottom: '25px', lineHeight: '1.8'}}>
                        <li>Verifying all program requirements through BU's official catalog</li>
                        <li>Confirming prerequisites with official sources</li>
                        <li>Meeting with official academic advisors for degree planning</li>
                        <li>Ensuring accuracy of uploaded documents</li>
                        <li>Using the tool responsibly and ethically</li>
                    </ul>
                    
                    <h3 style={{marginBottom: '15px', color: '#86efac'}}>5. Acceptable Use Policy</h3>
                    <p style={{marginBottom: '25px', lineHeight: '1.6'}}>
                        You agree to use this tool for educational and informational purposes only. You will not:
                    </p>
                    <ul style={{marginLeft: '30px', marginBottom: '25px', lineHeight: '1.8'}}>
                        <li>Submit harmful, misleading, or inappropriate content</li>
                        <li>Attempt to exploit or hack the system</li>
                        <li>Impersonate others or provide false information</li>
                        <li>Use the tool for commercial purposes</li>
                        <li>Share sensitive personal information</li>
                    </ul>
                    
                    <h3 style={{marginBottom: '15px', color: '#86efac'}}>6. Limitation of Liability</h3>
                    <p style={{marginBottom: '25px', lineHeight: '1.6'}}>
                        The project team, instructors, and Boston University are not liable for any decisions, 
                        outcomes, or consequences resulting from the use of this tool. This includes but is not 
                        limited to course enrollment decisions, degree planning choices, or career path selections.
                    </p>
                    
                    <h3 style={{marginBottom: '15px', color: '#86efac'}}>7. No Guarantees</h3>
                    <p style={{marginBottom: '25px', lineHeight: '1.6'}}>
                        This tool is a student term project created for CS633. All course suggestions, program 
                        matches, and career insights are for demonstration purposes only. We make no guarantees 
                        regarding academic success, admissions outcomes, graduation timelines, or employment 
                        opportunities.
                    </p>
                    
                    <h3 style={{marginBottom: '15px', color: '#86efac'}}>8. Intellectual Property</h3>
                    <p style={{marginBottom: '25px', lineHeight: '1.6'}}>
                        This project was created by students at Boston University. All rights to the course data 
                        and BU branding remain with Boston University. The tool uses Google's Gemini AI API for 
                        natural language processing.
                    </p>
                    
                    <h3 style={{marginBottom: '15px', color: '#86efac'}}>9. Changes to Terms</h3>
                    <p style={{marginBottom: '25px', lineHeight: '1.6'}}>
                        As this is a student project, these terms are provided for educational completeness and 
                        may be updated as part of the course requirements.
                    </p>
                    
                    <h3 style={{marginBottom: '15px', color: '#86efac'}}>10. Contact Information</h3>
                    <p style={{lineHeight: '1.6'}}>
                        For questions about these terms or the project, please refer to our Contact page or 
                        reach out through the CS633 course channels.
                    </p>
                </div>
            </div>
        );

        // Privacy Page with complete content
        const PrivacyPage = () => (
            <div style={{
                height: 'calc(100vh - 140px)',
                padding: '40px',
                color: 'white',
                overflow: 'auto',
                animation: 'fadeIn 0.8s ease-out'
            }}>
                <h1 style={{textAlign: 'center', marginBottom: '30px', animation: 'slideIn 0.6s ease-out'}}>Privacy Policy</h1>
                <div style={{
                    maxWidth: '900px',
                    margin: '0 auto',
                    background: 'rgba(255, 255, 255, 0.1)',
                    padding: '40px',
                    borderRadius: '20px',
                    backdropFilter: 'blur(10px)'
                }}>
                    <p style={{marginBottom: '20px', fontStyle: 'italic'}}>
                        Effective Date: December 2024
                    </p>
                    
                    <h3 style={{marginBottom: '15px', color: '#86efac'}}>1. Information We Collect</h3>
                    <p style={{marginBottom: '20px', lineHeight: '1.6'}}>
                        The BU Course Agent may temporarily process the following types of information:
                    </p>
                    <ul style={{marginLeft: '30px', marginBottom: '25px', lineHeight: '1.8'}}>
                        <li><strong>Chat Messages:</strong> Questions and responses during your session</li>
                        <li><strong>Uploaded Documents:</strong> Transcripts, resumes, or course lists you choose to share</li>
                        <li><strong>Session Data:</strong> Temporary session identifiers for conversation continuity</li>
                        <li><strong>Usage Patterns:</strong> How you interact with the tool's features</li>
                    </ul>
                    
                    <h3 style={{marginBottom: '15px', color: '#86efac'}}>2. How We Use Information</h3>
                    <p style={{marginBottom: '20px', lineHeight: '1.6'}}>
                        Information processed by the tool is used exclusively to:
                    </p>
                    <ul style={{marginLeft: '30px', marginBottom: '25px', lineHeight: '1.8'}}>
                        <li>Generate personalized course recommendations</li>
                        <li>Provide academic planning guidance</li>
                        <li>Analyze transcript data for degree progress</li>
                        <li>Match career goals with course selections</li>
                        <li>Improve the tool's responses during your session</li>
                    </ul>
                    
                    <h3 style={{marginBottom: '15px', color: '#86efac'}}>3. Data Storage and Retention</h3>
                    <p style={{marginBottom: '25px', lineHeight: '1.6'}}>
                        <strong>Important:</strong> We do NOT permanently store your personal information. All data is:
                    </p>
                    <ul style={{marginLeft: '30px', marginBottom: '25px', lineHeight: '1.8'}}>
                        <li>Processed only during your active session</li>
                        <li>Cleared when you start a new chat or close the browser</li>
                        <li>Not saved to any database or file system</li>
                        <li>Not shared with third parties except for AI processing</li>
                    </ul>
                    
                    <h3 style={{marginBottom: '15px', color: '#86efac'}}>4. Third-Party Services</h3>
                    <p style={{marginBottom: '25px', lineHeight: '1.6'}}>
                        This tool uses Google's Gemini AI API for natural language processing. When you interact 
                        with the chatbot, your messages are sent to Google's servers for processing. Google's 
                        use of this data is governed by their own privacy policy:
                    </p>
                    <div style={{
                        padding: '15px',
                        background: 'rgba(255, 255, 255, 0.1)',
                        borderRadius: '10px',
                        marginBottom: '25px'
                    }}>
                        <a href="https://support.google.com/gemini/answer/13594961?hl=en" 
                           target="_blank" 
                           rel="noopener noreferrer"
                           style={{color: '#86efac'}}>
                            📖 Google Gemini Apps Privacy Hub
                        </a>
                    </div>
                    
                    <h3 style={{marginBottom: '15px', color: '#86efac'}}>5. No Personal Information Required</h3>
                    <p style={{marginBottom: '25px', lineHeight: '1.6'}}>
                        You are NOT required to provide personally identifiable information (PII) such as:
                    </p>
                    <ul style={{marginLeft: '30px', marginBottom: '25px', lineHeight: '1.8'}}>
                        <li>Social Security Numbers</li>
                        <li>Student ID numbers</li>
                        <li>Date of birth</li>
                        <li>Home address</li>
                        <li>Phone numbers</li>
                        <li>Email addresses</li>
                    </ul>
                    <p style={{marginBottom: '25px', lineHeight: '1.6'}}>
                        Any such information you voluntarily provide will not be stored and is only used 
                        within your current session.
                    </p>
                    
                    <h3 style={{marginBottom: '15px', color: '#86efac'}}>6. Cookies and Tracking</h3>
                    <p style={{marginBottom: '25px', lineHeight: '1.6'}}>
                        This prototype does NOT use:
                    </p>
                    <ul style={{marginLeft: '30px', marginBottom: '25px', lineHeight: '1.8'}}>
                        <li>Cookies for tracking</li>
                        <li>Google Analytics or similar services</li>
                        <li>User profiling or behavioral tracking</li>
                        <li>Third-party advertising networks</li>
                    </ul>
                    
                    <h3 style={{marginBottom: '15px', color: '#86efac'}}>7. Data Security</h3>
                    <p style={{marginBottom: '25px', lineHeight: '1.6'}}>
                        We implement reasonable security measures to protect your session data:
                    </p>
                    <ul style={{marginLeft: '30px', marginBottom: '25px', lineHeight: '1.8'}}>
                        <li>Secure HTTPS connections</li>
                        <li>Session-based data isolation</li>
                        <li>No permanent data storage</li>
                        <li>Automatic session cleanup</li>
                    </ul>
                    <p style={{marginBottom: '25px', lineHeight: '1.6'}}>
                        However, as this is a student prototype, we recommend avoiding the upload of 
                        highly sensitive personal documents.
                    </p>
                    
                    <h3 style={{marginBottom: '15px', color: '#86efac'}}>8. Your Rights</h3>
                    <p style={{marginBottom: '25px', lineHeight: '1.6'}}>
                        You have the right to:
                    </p>
                    <ul style={{marginLeft: '30px', marginBottom: '25px', lineHeight: '1.8'}}>
                        <li>Use the tool without providing personal information</li>
                        <li>Clear your chat history at any time</li>
                        <li>Export your conversation for your records</li>
                        <li>Start fresh sessions without historical data</li>
                    </ul>
                    
                    <h3 style={{marginBottom: '15px', color: '#86efac'}}>9. Children's Privacy</h3>
                    <p style={{marginBottom: '25px', lineHeight: '1.6'}}>
                        This tool is designed for university students and is not intended for children under 13. 
                        We do not knowingly collect information from children.
                    </p>
                    
                    <h3 style={{marginBottom: '15px', color: '#86efac'}}>10. Changes to This Policy</h3>
                    <p style={{marginBottom: '25px', lineHeight: '1.6'}}>
                        As this is a student project for CS633, this privacy policy may be updated as part of 
                        course requirements. Any changes will be reflected on this page.
                    </p>
                    
                    <h3 style={{marginBottom: '15px', color: '#86efac'}}>11. Contact Us</h3>
                    <p style={{lineHeight: '1.6'}}>
                        For privacy concerns or questions about data handling, please refer to our Contact page 
                        or reach out through the appropriate BU MET channels. Remember, for official academic 
                        records and privacy matters, contact BU's official services.
                    </p>
                </div>
            </div>
        );

        // Main App Component
        const App = () => {
            const [currentPage, setCurrentPage] = useState('home');
            const [messages, setMessages] = useState([]);
            const [inputValue, setInputValue] = useState('');
            const [sessionId, setSessionId] = useState(null);

            const renderPage = () => {
                switch(currentPage) {
                    case 'home':
                        return <HomePage setCurrentPage={setCurrentPage} />;
                    case 'chat':
                        return (
                            <ChatPage 
                                messages={messages}
                                setMessages={setMessages}
                                inputValue={inputValue}
                                setInputValue={setInputValue}
                                sessionId={sessionId}
                                setSessionId={setSessionId}
                            />
                        );
                    case 'about':
                        return <AboutPage />;
                    case 'contact':
                        return <ContactPage />;
                    case 'terms':
                        return <TermsPage />;
                    case 'privacy':
                        return <PrivacyPage />;
                    default:
                        return <HomePage setCurrentPage={setCurrentPage} />;
                }
            };

            return (
                <div style={{height: '100vh', display: 'flex', flexDirection: 'column'}}>
                    <Navigation currentPage={currentPage} setCurrentPage={setCurrentPage} />
                    {renderPage()}
                    <Footer setCurrentPage={setCurrentPage} />
                </div>
            );
        };

        // Render App
        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>